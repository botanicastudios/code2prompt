# Code2Prompt

Code2Prompt is a node.js library that assists in generating contextual prompts from codebases for language model applications. It leverages the power of OpenAI API to fetch results for the generated prompts.

## Features

1. **Codebase Analysis:** Code2Prompt traverses through your entire codebase, analyzing and summarizing it to contextual prompts.
2. **Customizable:** It allows you to specify which file types to include or ignore during the analysis.
3. **OpenAI API Integration:** If provided with an OpenAI API key, it can directly fetch results from the API for the generated prompts. 
4. **Template-based Rendering:** It utilizes Handlebars for template-based rendering of the generated prompts.
5. **Schema Enforcement:** It uses Zod to build and enforce a data schema.

## Installation

You can install the library via npm:

```bash
npm install code2prompt
```

## Usage

Here's a basic example of how to use Code2Prompt:

```javascript
const Code2Prompt = require('code2prompt');

const options = {
    path: '.', // Specify the path to the codebase
    extensions: ['js'], // Specify the extensions to filter for
    template: 'templates/default.hbs', // Specify the template to use
    ignore: ['**/node_modules/**'], // Specify patterns to ignore 
    OPENAI_KEY: process.env.OPENAI_KEY // Optional OpenAI API key; needed for 'request' method
};

const code2Prompt = new Code2Prompt(options);

// Generate a context prompt
code2Prompt.generateContextPrompt().then(prompt => console.log(prompt));
```
</br>
Here's an example using 'request' method :

```javascript
code2Prompt.request('Generate a detailed readme markdown file from the given codebase.').then(response => console.log(response));

```
> Note: The 'request' method requires an OpenAI API key.

## Available Options

1. `path`: (String) Specifies the path to the codebase to analyze 
2. `extensions`: (Array) Specifies the file extensions to include in the analysis. If not specified, all file types will be included. 
3. `template`: (String) Specifies the path to the handlebars template for rendering the generated prompts.
4. `ignore`: (Array) Specifies the file or directory patterns to ignore during the analysis. 
5. `OPENAI_KEY`: (String) If specified, this will be used to fetch results for the generated prompts from the OpenAPI API.

## Contributing

Contributions are welcome! Feel free to submit issues or pull requests.

## Testing

To run tests, call the following command:

```bash
node test.js
```

## License

This project is [MIT](https://choosealicense.com/licenses/mit/) licensed.

## Acknowledgements 

Thanks to [OpenAI](https://openai.com/) and [Handlebars.js](https://handlebarsjs.com/) which this project is built upon.

## (this file was generated by running npm run test)